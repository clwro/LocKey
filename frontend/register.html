<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registrar</title>
    <link rel="stylesheet" href="css\register.css">
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="./css/responsivo.css">
    <!-- AXIOS.-->
    <script src= "https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body>
    <div class="page">
        <form method="POST" class="formLogin">
            <div class="logo">
                <h1>Registro</h1>
                <img src="img\LK.png" id="headerLogo" height="80">
                </div>
            <label for="email">E-mail</label>
            <input id ='email' type="email" placeholder="Digite seu e-mail" autofocus="true" />
            <label for="password">Senha</label>
            <input id = 'senha' type="password" placeholder="Digite sua senha" />
            <label for="confirm-password">Confirme sua senha</label>
            <input type="confirm-password" placeholder="Confirme sua senha">
            
            <div class="checkboxes">
            <label for="newsleter">Inquilino</label>
            <input type="checkbox" id="inquilino"name="inquilino" value="newsletter" />
            <label for="locatario">Locatario</label>
            <input type="checkbox" id="locatario"name="locatario" value="locatario" />
            </div>
            <input type="submit" value="Registrar" class="btn" />
        </form>
    </div>
    <script type ="text/javascript">
        function Registrar(){
            // RECEBE OS DADOS DO USUARIO.
            email = document.querySelector('#email').value;
            senha = document.querySelector('#senha').value;

            // VERIFICA OS DADOS.
            if (!email || !senha){
                return alert('Por favor, complete os campos.');
            }

            // ENVIA OS DADOS PARA O SERVIDOR.
            axios.post('api/users/Registrar',{
                email, senha
            }).then( response => {
                if (response.data.erro){
                    return alert(response.data.erro);
                }else {
                    // SE TUDO DER CERTO, REDICIONA.
                    window.location.href ='/privado';
                }
            }).catch(erro => {
                return alert(response.data.erro);
            });
        }
    </script>
</body>
</html>